var adsPage={init:function(e){function t(e,t,o,n){e=new ClipboardJS(""+e,{text:function(){var e=document.getElementById(t);return e?e.value:""}});e.on("success",function(e){Swal.fire({title:"Success",text:o,icon:"success",confirmButtonText:"OK"})}),e.on("error",function(e){Swal.fire({title:"Error",text:n,icon:"error",confirmButtonText:"OK"})})}$(".ads-maf").click(function(){Swal.fire({title:"JavaScript Code",html:'<a class="btn btn-success col text-light copymafButton" style="font-size:1.2em">Click to Copy Information for Most Added To Favourites</a>',confirmButtonText:"Close",width:"50%",showCloseButton:!0,onOpen:function(){t(".copymafButton","copy-maf-information-field","Script copied to clipboard!","Unable to copy Script to clipboard.")}})}),$(".ads-mb").click(function(){Swal.fire({title:"JavaScript Code",html:'<a class="btn btn-success col text-light copymbButton" style="font-size:1.2em">Click to Copy Information for Most Bought Products</a>',confirmButtonText:"Close",width:"50%",showCloseButton:!0,onOpen:function(){t(".copymbButton","copy-mb-information-field","Script copied to clipboard!","Unable to copy Script to clipboard.")}})})}},cartPage={init:function(e){var t=e.find(".remove-from-cart-button"),e=e.find(".add-to-favourites-button");$("#checkoutButton").on("click",function(e){commonFuncs.showLoader(),0===parseFloat($("#totalAmount").text().replace("$",""))&&(e.preventDefault(),Swal.fire({icon:"error",title:"Oops...",text:"You cannot pass a cart with 0 items in it!"})),commonFuncs.hideLoader()}),t.click(function(){Swal.fire({title:"Are you sure?",text:"Do you want to delete the product from the cart?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.isConfirmed&&(commonFuncs.showLoader(),e=(e=$(this).data("original-text")).replace(/\s+/g," ").trim(),$.post("/Home/RemoveFromCart",{productId:$(this).attr("id"),size:e},function(e){commonFuncs.hideLoader(),location.reload()}).fail(function(e){commonFuncs.hideLoader(),alert("AJAX request failed: ",e)}))})}),e.click(function(){commonFuncs.showLoader();var e=(e=$(this).data("original-text")).replace(/\s+/g," ").trim();$.post("/Home/RemoveFromCart",{productId:$(this).attr("id"),addToFavourites:!0,size:e},function(e){commonFuncs.hideLoader(),location.reload()}).fail(function(e){alert("AJAX request failed: ",e)})})}},contactUs={init:function(e){let t=e.find("#formEmail"),o=e.find("#formName"),n=e.find("#receive-email-from-user"),i=e.find("#formMessage");n.click(function(e){commonFuncs.showLoader(),e.preventDefault(),t.val()&&""!==t.val().trim()&&i.val()&&""!==i.val().trim()&&o.val()&&""!==o.val().trim()?$.ajax({url:"/Footer/UserSendEmail",type:"POST",dataType:"json",data:{email:t.val(),bodyText:i.val(),name:o.val()},success:function(e){e.status?(commonFuncs.hideLoader(),Swal.fire({title:"Wow!",text:"The email was sent!",icon:"success"}),location.reload()):console.error(e.Message)},error:function(e,t,o){commonFuncs.hideLoader(),console.error("Error:",o)}}):(commonFuncs.hideLoader(),Swal.fire({title:"Oops!",text:"Please fill in all required fields.",icon:"error"}))})}},favouritesPage={init:function(t){let e=t.find(".remove-from-favourites-button"),o=t.find(".add-to-cart-button"),n=t.find(".closePopup"),i=t.find(".confirm-size-selection"),a=t.find("#sizeSelectionPopup");e.click(function(){Swal.fire({title:"Are you sure?",text:"Do you want to delete the product from the favourites page?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.isConfirmed&&(commonFuncs.showLoader(),$.post("/Home/RemoveFromFavourites",{productId:$(this).attr("id")},function(e){commonFuncs.hideLoader(),location.reload()}).fail(function(e){alert("AJAX request failed: "+e)}))})});var r="";o.click(function(){var e="sizeSelectionPopup_"+(r=$(this).attr("id")).trim();(a=t.find("#"+e)).css("display","block")}),i.click(function(){$(".checked-sizes").each(function(e){var t=(t=$(this).closest("li").find("label").data("original-text")).replace(/\s+/g," ").trim();$.post("/Home/RemoveFromFavourites",{productId:r,addToCart:!0,size:t},function(e){}).fail(function(e){alert("AJAX request failed: "+e)})}),$(".unchecked-sizes").each(function(e){var t=(t=$(this).closest("li").find("label").data("original-text")).replace(/\s+/g," ").trim();$.post("/Home/RemoveFromCart",{productId:r,addToFavourites:!1,size:t},function(e){}).fail(function(e){alert("AJAX request failed: "+e)})}),a.css("display","none"),location.reload()}),n.click(function(){a.css("display","none")}),t.on("click","li",function(){$(this).toggleClass("checked-sizes")})}},genderTemplate={init:function(e){e.find("#arrow-left"),e.find("#arrow-right");var t=e.find("#image-for-season"),o=e.find("#button-for-custom-season-overflow"),e=e.find("#button-for-limited-time-campaign");if(o.click(function(){var e=window.location.origin+"/Home/_UserProductsPartial?mainCategoryId"+$(".genderCall-page").attr("id");setTimeout(function(){window.location.href=e},0)}),e.click(function(){var e=window.location.origin+"/Home/_UserProductsPartial?mainCategoryId"+$(".genderCall-page").attr("id");setTimeout(function(){window.location.href=e},0)}),3<=(o=(new Date).getMonth()+1)&&o<=5?t.attr("src","/clothes-shop/images/season-specialized/spring-main-2.jpg"):6<=o&&o<=8?t.attr("src","/clothes-shop/images/season-specialized/summer-main-2.jpg"):9<=o&&o<=11?t.attr("src","/clothes-shop/images/season-specialized/autumn-main-2.jpg"):t.attr("src","/clothes-shop/images/season-specialized/winter-main-2.jpg"),e=document.getElementById("countdown-container")){o=e.getAttribute("data-enddate");if(o){const i=new Date(o).getTime();if(!isNaN(i)){const a=setInterval(function(){var e=(new Date).getTime(),e=i-e;{var t,o,n;e<0?(clearInterval(a),document.getElementById("countdown").innerHTML="EXPIRED"):(n=Math.floor(e/864e5),t=Math.floor(e%864e5/36e5),o=Math.floor(e%36e5/6e4),e=Math.floor(e%6e4/1e3),n=`
        
               <div class="col pl-2 pr-2">
                   <div class="bg-dark pt-2 rounded-top data-shower">
                       ${n}
                   </div>
                   <div class="bg-dark pl-1 pr-1 pt-4 pb-2 rounded-bottom label-data-shower">Days</div>
               </div>
               <div class="col pl-2 pr-2">
                   <div class="bg-dark pt-2 rounded-top data-shower">
                       ${t}
                   </div>
                   <div class="bg-dark pl-1 pr-1 pt-4 pb-2 rounded-bottom label-data-shower">Hours</div>
               </div>
               <div class="col pl-2 pr-2">
                   <div class="bg-dark pt-2 rounded-top data-shower">
                       ${o}
                   </div>
                   <div class="bg-dark pl-1 pr-1 pt-4 pb-2 rounded-bottom label-data-shower">Minutes</div>
               </div>
               <div class="col pl-2 pr-2">
                   <div class="bg-dark pt-2 rounded-top data-shower">
                      ${e}
                   </div>
                   <div class="bg-dark pl-1 pr-1 pt-4 pb-2 rounded-bottom label-data-shower">Seconds</div>
               </div>
            
            `,document.getElementById("countdown").innerHTML=n)}},1e3)}}}}},loginPage={init:function(e){$("#togglePassword").click(function(e){e.preventDefault();var e=$("#custom-password-eye-orienter"),t="password"===e.attr("type")?"text":"password";e.attr("type",t),$(this).toggleClass("fa-eye fa-eye-slash")})}},outfitPicker={init:function(e){$(document).ready(function(){$(".image-upload").change(function(e){const t=$(this),o=t.parent().find(".uploaded-image"),n=e.target.files[0];commonFuncs.validateAndResizeImage(n,function(e,t){e?o.attr("src",t):Swal.fire({icon:"error",title:"Oops...",text:"Image validation failed:"+t})})}),$(".retry-btn").click(function(){location.reload()}),$(".create-image").click(function(t){commonFuncs.showLoader(),t.preventDefault();const o=[];$(".uploaded-image").each(function(){var e={Image:$(this).attr("src")};o.push(e)});t=new a;if(t.validateImagesField(o)){var e=$("#person-image")[0].files[0],n=$("#clothing-image")[0].files[0],i=new FormData,e=(i.append("personImage",e),i.append("clothImage",n),{async:!0,crossDomain:!0,url:"https://texel-virtual-try-on.p.rapidapi.com/try-on-file",method:"POST",headers:{"X-RapidAPI-Key":"118c0ba3f2msh2f51cd3a9d5b701p13df6cjsnc24c9759f30b","X-RapidAPI-Host":"texel-virtual-try-on.p.rapidapi.com"},processData:!1,contentType:!1,mimeType:"multipart/form-data",data:i});$.ajax(e).done(function(e){var t=e.response.ouput_path_img;$("#additionalPicturePreview").attr("src",t),$("#resultText").attr("src",e.message),$("#hiddenInput").css("display","block"),$(".retry-btn").css("display","block"),$(".create-image").css("display","none"),commonFuncs.hideLoader(),commonFuncs.hideLoader()}).fail(function(e,t,o){console.error(e.responseText),alert("Error occurred. Check console for details.")})}else{let e=t.getErrors(),o=document.createElement("ul");e.forEach(e=>{var t=document.createElement("li");t.textContent=e,t.style.color="red",t.style.textAlign="left",o.appendChild(t)}),Swal.fire({icon:"error",title:"Oops...",html:""+o.innerHTML,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}commonFuncs.hideLoader()});class a{constructor(){this.errors=[]}validateImagesField(e){return this.errors=[],this.validateImages(e),0===this.errors.length}validateImages(e){e.forEach(e=>{e.Image&&""!=e.ImageName&&" "!=e.ImageName||this.errors.push("Image is required")})}getErrors(){return this.errors}}})}},partnershipPage={init:function(e){let t=e.find("#email"),o=e.find("#username"),n=e.find("#receive-email-from-sponsor"),i=e.find("#message");n.click(function(){t.val()&&""!==t.val().trim()&&i.val()&&""!==i.val().trim()&&o.val()&&""!==o.val().trim()?(commonFuncs.showLoader(),$.ajax({url:"/Footer/PartnershipSendEmail",type:"POST",dataType:"json",data:{email:t.val(),bodyText:i.val(),name:o.val()},success:function(e){e.status?(commonFuncs.hideLoader(),Swal.fire({title:"Wow!",text:"The email was sent!",icon:"success"}),location.reload()):(commonFuncs.hideLoader(),console.error(e.Message))},error:function(e,t,o){commonFuncs.hideLoader(),console.error("Error:",o)}})):(commonFuncs.hideLoader(),Swal.fire({title:"Oops!",text:"Please fill in all required fields.",icon:"error"}))})}},registerUser={init:function(e){let o=e.find("#Input_Country"),t=e.find("#facebookLink"),n=e.find("#googleLink"),i=e.find("#facebookInput"),a=e.find("#googleInput");$(document).ready(function(){0!=o.length&&$.ajax({url:"https://restcountries.com/v3.1/all",method:"GET",success:function(e){let t=e.map(function(e){return e.name.common});t.sort(),o.autocomplete({source:t,minLength:0,select:function(e,t){t=t.item.value;o.text(t)}}),o.on("click",function(){o.autocomplete("search","")}),o.on("blur",function(){var e=o.val().trim();-1===t.indexOf(e)&&(o.val(""),o.attr("placeholder",""))})},error:function(){alert("Failed to fetch country list.")}})}),t.click(function(){i.click()}),n.click(function(){a.click()}),$("#toggleConfirmPassword").click(function(e){e.preventDefault();var e=$("#custom-confirm-password-eye-orienter"),t="password"===e.attr("type")?"text":"password";e.attr("type",t),$(this).toggleClass("fa-eye fa-eye-slash")})}},shopPage={init:function(e){let t=e.find(".add-to-cart-shop"),o=e.find(".add-to-favourites-shop"),n=e.find("#closePopup"),i=e.find(".confirm-size-selection"),a=e.find("#sizeSelectionPopup");var r="";t.click(function(){a.css("display","block"),r=$(this).attr("id")}),i.click(function(){$(".checked-sizes").each(function(e){var t=(t=$(this).closest("li").find("label").data("original-text")).replace(/\s+/g," ").trim();$.post("/Home/AddToCart",{productId:r,size:t},function(e){Swal.fire({icon:"success",title:"The changes to the cart have been made!",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}).fail(function(e){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),alert("AJAX request failed: "+e)})}),a.css("display","none")}),n.click(function(){a.css("display","none")}),e.on("click","li",function(){$(this).toggleClass("checked-sizes")}),o.click(function(){commonFuncs.showLoader();var e=$(this).attr("id");$(this).find(".heart-icon").hasClass("fa-solid")?$.post("/Home/RemoveFromFavourites",{productId:e,addToCart:!1,size:""},function(e){commonFuncs.hideLoader(),Swal.fire({icon:"success",title:"The changes to the favourites have been made!",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),location.reload()}).fail(function(e){commonFuncs.hideLoader(),console.log("AJAX request failed:",e)}):$.post("/Home/AddToFavourites",{productId:e},function(e){commonFuncs.hideLoader(),location.reload()}).fail(function(e){commonFuncs.hideLoader(),Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),console.log("AJAX request failed:",e)})}),e.on("click",".delete",function(){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this product!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.isConfirmed&&(commonFuncs.showLoader(),$(this).closest("tr").remove(),$.post("/Worker/DeleteProduct",{productId:$(this).attr("id")},function(e){commonFuncs.hideLoader(),location.reload()}).fail(function(e){commonFuncs.hideLoader(),alert("AJAX request failed: ",e)}))})}),e.on("click",".redirect-to-edit-page",function(){var e="/Worker/EditProduct?productId="+$(this).attr("id");window.location.href=e})}},userItemsSelectionList={init:function(e){let c=e.find(".maincategory-id").attr("id"),s=e.find("#fromInput"),l=e.find("#toInput"),t=e.find(".subcategory-item"),o=e.find(".size-col"),n=e.find(".color-col"),d=e.find("#sortBy"),i=e.find(".brand-checkbox"),a=e.find(".ltc-checkbox");function r(e,t){return[parseInt(e.value,10),parseInt(t.value,10)]}function u(e,t,o,n,i){var a=t.max-t.min,e=e.value-t.min,t=t.value-t.min;i.style.background=`linear-gradient(
          to right,
          ${o} 0%,
          ${o} ${e/a*100}%,
          ${n} ${e/a*100}%,
          ${n} ${t/a*100}%, 
          ${o} ${t/a*100}%, 
          ${o} 100%)`}function f(e){var t=document.querySelector("#toSlider");Number(e.value)<=0?t.style.zIndex=2:t.style.zIndex=0}if(null!=c){const p=document.querySelector("#fromSlider"),h=document.querySelector("#toSlider"),g=document.querySelector("#fromInput"),v=document.querySelector("#toInput");u(p,h,"#C6C6C6","#CC5500",h),f(h),p.oninput=()=>{var e=p,t=h,o=g,[n,i]=r(e,t);u(e,t,"#C6C6C6","#CC5500",t),i<n?(e.value=i,o.value=i):o.value=n},h.oninput=()=>{var e=p,t=h,o=v,[n,i]=r(e,t);u(e,t,"#C6C6C6","#CC5500",t),f(t),n<=i?(t.value=i,o.value=i):(o.value=n,t.value=n)},g.oninput=()=>controlFromInput(p,g,v,h),v.oninput=()=>controlToInput(h,g,v,h),p.onchange=()=>m(),h.onchange=()=>m(),g.onchange=()=>m(),v.onchange=()=>m()}function m(){commonFuncs.showLoader();var e=$(".brand-checkbox:checked").map(function(){return $(this).next("label").text().trim()}).get().join("_"),t=$(".ltc-checkbox:checked").map(function(){return $(this).next("label").text().trim()}).get().join("_"),o=$(".selected-color").map(function(){return $(this).attr("id")}).get().join("_"),n=$(".selected-size").map(function(){return $(this).text()}).get().join("_"),i=$(".subcategory-selected").map(function(){return $(this).attr("id")}).get().join("_");const a={MainCategoryId:c,SelectedSubcategories:i,ProductColours:o,MinPrice:s.val(),MaxPrice:l.val(),Sizes:n,Brands:e,LTCs:t};var i=Object.keys(a).filter(function(e){return null!==a[e]&&""!==a[e]&&0!==a[e]&&(!Array.isArray(a[e])||0<a[e].length)}).map(function(e){return"filter."+e+"="+encodeURIComponent(a[e])}).join("&"),r=window.location.origin+"/Home/_UserProductsPartial?"+i+"&sortBy="+d.val();setTimeout(function(){window.location.href=r},0),commonFuncs.hideLoader()}$(".filter-by").click(function(){$(this).closest(".filter-by").find(".fa-chevron-down").toggleClass("down")}),$(".filter-collapse").click(function(){$(this).closest(".filter-collapse").find(".fa-chevron-down").toggleClass("down")}),t.click(function(){$(this).toggleClass("subcategory-selected"),m()}),o.click(function(){$(this).toggleClass("selected-size"),m()}),n.click(function(){$(this).toggleClass("selected-color"),m()}),i.click(function(){m()}),a.click(function(){m()}),$("#clear-all-filters").click(function(){var e=window.location.origin+"/Home/_UserProductsPartial?mainCategoryId="+c;setTimeout(function(){window.location.href=e},0)}),d.change(function(){m()})}};